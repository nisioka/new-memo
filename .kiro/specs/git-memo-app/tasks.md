# 実装計画

- [x] 1. プロジェクト初期設定とTailwind CSS v4のセットアップ
  - Vite + React 19 + TypeScript プロジェクトの初期化
  - 必要な依存関係のインストール（zustand, isomorphic-git, idb, tailwindcss@next, @tailwindcss/vite@next 等）
  - `vite.config.ts` に `@tailwindcss/vite` プラグインを追加
  - `src/index.css` に `@import "tailwindcss";` を追加
  - 基本的なディレクトリ構造とファイル構成の作成
  - TypeScript設定とESLint/Prettier設定
  - _要件: 1.1, 2.1, 9.1_

- [x] 2. 基本的なデータモデルとインターフェースの定義
  - [x] 2.1 TypeScript型定義の作成
    - Memo, User, CommitInfo, AppSettings等の型定義
    - サービスインターフェースの定義（AuthService, MemoService, GitService等）
    - _要件: 2.1, 4.1, 5.1_
  - [x] 2.2 Zustand ストアの基本構造実装
    - メモ管理用ストア、認証用ストア、設定用ストアの作成
    - 基本的なアクションとセレクターの実装
    - _要件: 2.1, 4.1_

- [x] 3. ローカルストレージシステムの実装
  - [x] 3.1 IndexedDB ストレージサービスの実装
    - idbライブラリを使用したデータベース初期化
    - メモデータのCRUD操作実装
    - 設定データの永続化機能
    - _要件: 7.1, 7.2_
  - [x] 3.2 オフライン対応のキャッシュ機能
    - isomorphic-git用のIndexedDBベースのファイルシステムを実装
    - これによりGit操作がオフラインで実行可能になる
    - _要件: 7.1, 7.3_

- [x] 4. Git操作システムの実装
  - [x] 4.1 isomorphic-git を使用した基本Git操作
    - リポジトリ初期化、コミット、履歴取得機能
    - ファイル単位でのコミット機能の実装
    - _要件: 3.2, 5.1_
  - [x] 4.2 ブランチ管理機能の実装
    - ブランチ作成、切替、マージ、削除機能
    - ブランチ一覧表示とGUI操作
    - _要件: 6.1, 6.2, 6.3, 6.4_
  - [x] 4.3 差分表示機能の実装
    - unified diff形式での差分生成
    - 2つのコミット間の比較機能
    - _要件: 5.2, 5.4_

- [ ] 5. 認証システムの実装
  - [ ] 5.1 GitHub OAuth認証の実装
    - GitHub OAuth フローの実装
    - Personal Access Token の暗号化保存
    - _要件: 1.1, 1.3_
  - [x] 5.2 ローカル認証システムの実装
    - ローカルユーザー認証の実装
    - 認証状態の管理とセッション処理
    - _要件: 1.2_

- [ ] 6. GitHub連携機能の実装
  - [ ] 6.1 GitHub API連携の実装
    - リポジトリへのpush/pull機能
    - Personal Access Token を使用した認証
    - _要件: 8.1, 8.2_
  - [ ] 6.2 同期システムの実装
    - 自動同期機能とエラーハンドリング
    - コンフリクト解決のサポート機能
    - _要件: 7.3, 8.3_

- [x] 7. メモ管理システムの実装
  - [x] 7.1 メモCRUD操作の実装
    - メモの作成、読み取り、更新、削除機能
    - ファイルシステムとの連携
    - _要件: 2.1, 4.1, 4.2_
  - [x] 7.2 メモエディター機能の実装
    - Markdownエディターの実装
    - プレビュー切替機能
    - 自動保存機能
    - _要件: 2.3, 2.4, 3.2, 3.3_

- [ ] 8. UIコンポーネントの実装
  - [x] 8.1 認証関連UIの実装
    - ログインページ、認証フォーム
    - 認証状態の表示とログアウト機能
    - _要件: 1.1, 1.2_
  - [ ] 8.2 メモ一覧・管理UIの実装
    - メモ一覧表示、検索・フィルター機能
    - メモ作成・削除のUI
    - _要件: 4.1, 4.2_
  - [x] 8.3 メモエディターUIの実装
    - Markdownエディターのテキストエリア
    - プレビュー表示の切替UI
    - 保存・コミットボタンの実装
    - Markdownレンダリング機能の実装
    - _要件: 2.3, 2.4, 3.1_
  - [x] 8.4 履歴・差分表示UIの実装
    - コミット履歴の一覧表示
    - 差分ビューアーの実装 (後回し)
    - _要件: 5.1, 5.2, 5.3_

- [ ] 9. モバイル対応とレスポンシブデザインの実装
  - [ ] 9.1 モバイルファーストUIの実装
    - スマートフォン縦画面での最適化
    - タッチ操作に適したUI要素のサイズ調整
    - _要件: 9.1, 9.2_
  - [ ] 9.2 レスポンシブレイアウトの実装
    - デスクトップとモバイルの画面サイズ対応
    - 片手操作を考慮したナビゲーション
    - _要件: 9.3, 9.4_

- [ ] 10. 設定管理システムの実装
  - [ ] 10.1 アプリケーション設定の実装
    - 設定画面のUI実装
    - コミットメッセージテンプレート設定
    - 自動保存間隔の設定
    - _要件: 10.1, 10.2_
  - [ ] 10.2 バックアップ・復旧機能の実装
    - 自動ローカルバックアップ機能
    - 設定データの永続化
    - _要件: 10.3, 10.4_

- [ ] 11. エラーハンドリングと安定性の向上
  - [ ] 11.1 包括的なエラーハンドリングの実装
    - ネットワークエラー、Git操作エラーの処理
    - ユーザーフレンドリーなエラーメッセージ
    - _要件: 8.3_
  - [ ] 11.2 オフライン・オンライン状態の管理
    - 接続状態の検出と表示
    - オフライン時の機能制限とフォールバック
    - _要件: 7.1, 7.3_

- [ ] 12. パフォーマンス最適化
  - [ ] 12.1 レンダリング最適化の実装
    - React.lazy による動的インポート
    - メモ一覧の仮想化（大量データ対応）
    - _要件: 3.4_
  - [ ] 12.2 ストレージ最適化の実装
    - 不要データのクリーンアップ機能
    - 効率的なデータ取得とキャッシュ戦略
    - _要件: 3.4_

- [ ]* 13. テストの実装
  - [ ]* 13.1 ユニットテストの作成
    - サービスクラスのテスト（GitService, MemoService等）
    - ユーティリティ関数のテスト
    - _要件: 全般_
  - [ ]* 13.2 統合テストの作成
    - Git操作とストレージの連携テスト
    - 認証フローのテスト
    - _要件: 全般_
  - [ ]* 13.3 E2Eテストの作成
    - メモ作成から保存までの完全フローテスト
    - 履歴閲覧と差分表示のテスト
    - _要件: 全般_

- [ ] 14. 最終統合とデプロイ準備
  - [ ] 14.1 全機能の統合とテスト
    - 各機能モジュールの統合
    - 全体的な動作確認とバグ修正
    - _要件: 全般_
  - [ ] 14.2 ビルド設定とデプロイ準備
    - 本番用ビルド設定の最適化
    - PWA対応の設定
    - 環境変数とセキュリティ設定
    - _要件: 1.4_